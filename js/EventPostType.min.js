/*! ===========================================================
 * bootstrap-tooltip.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(b){var a=function(d,c){this.init("tooltip",d,c)};a.prototype={constructor:a,init:function(f,e,d){var g,c;this.type=f;this.$element=b(e);this.options=this.getOptions(d);this.enabled=true;if(this.options.trigger!="manual"){g=this.options.trigger=="hover"?"mouseenter":"focus";c=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(g,this.options.selector,b.proxy(this.enter,this));this.$element.on(c,this.options.selector,b.proxy(this.leave,this))}this.options.selector?(this._options=b.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(c){c=b.extend({},b.fn[this.type].defaults,c,this.$element.data());if(c.delay&&typeof c.delay=="number"){c.delay={show:c.delay,hide:c.delay}}return c},enter:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show){return c.show()}clearTimeout(this.timeout);c.hoverState="in";this.timeout=setTimeout(function(){if(c.hoverState=="in"){c.show()}},c.options.delay.show)},leave:function(d){var c=b(d.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!c.options.delay||!c.options.delay.hide){return c.hide()}c.hoverState="out";this.timeout=setTimeout(function(){if(c.hoverState=="out"){c.hide()}},c.options.delay.hide)},show:function(){var g,c,k,e,h,d,f;if(this.hasContent()&&this.enabled){g=this.tip();this.setContent();if(this.options.animation){g.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,g[0],this.$element[0]):this.options.placement;c=/in/.test(d);g.remove().css({top:0,left:0,display:"block"}).appendTo(c?this.$element:document.body);k=this.getPosition(c);e=g[0].offsetWidth;h=g[0].offsetHeight;switch(c?d.split(" ")[1]:d){case"bottom":f={top:k.top+k.height,left:k.left+k.width/2-e/2};break;case"top":f={top:k.top-h,left:k.left+k.width/2-e/2};break;case"left":f={top:k.top+k.height/2-h/2,left:k.left-e};break;case"right":f={top:k.top+k.height/2-h/2,left:k.left+k.width};break}g.css(f).addClass(d).addClass("in")}},isHTML:function(c){return typeof c!="string"||(c.charAt(0)==="<"&&c.charAt(c.length-1)===">"&&c.length>=3)||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(c)},setContent:function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.isHTML(c)?"html":"text"](c);d.removeClass("fade in top bottom left right")},hide:function(){var c=this,d=this.tip();d.removeClass("in");function e(){var f=setTimeout(function(){d.off(b.support.transition.end).remove()},500);d.one(b.support.transition.end,function(){clearTimeout(f);d.remove()})}b.support.transition&&this.$tip.hasClass("fade")?e():d.remove()},fixTitle:function(){var c=this.$element;if(c.attr("title")||typeof(c.attr("data-original-title"))!="string"){c.attr("data-original-title",c.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(c){return b.extend({},(c?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,c=this.$element,d=this.options;e=c.attr("data-original-title")||(typeof d.title=="function"?d.title.call(c[0]):d.title);return e},tip:function(){return this.$tip=this.$tip||b(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};b.fn.tooltip=function(c){return this.each(function(){var f=b(this),e=f.data("tooltip"),d=typeof c=="object"&&c;if(!e){f.data("tooltip",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.tooltip.Constructor=a;b.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery);
/*!
 * Date prototype extensions.
 * Copyright (c) 2006 Jï¿½rn Zaefferer and Brandon Aaron (brandon.aaron@gmail.com || http://brandonaaron.net)
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.firstDayOfWeek=1;Date.format="dd/mm/yyyy";Date.fullYearStart="20";(function(){function c(b,a){if(!Date.prototype[b]){Date.prototype[b]=a}}c("isLeapYear",function(){var a=this.getFullYear();return(a%4==0&&a%100!=0)||a%400==0});c("isWeekend",function(){return this.getDay()==0||this.getDay()==6});c("isWeekDay",function(){return !this.isWeekend()});c("getDaysInMonth",function(){return[31,(this.isLeapYear()?29:28),31,30,31,30,31,31,30,31,30,31][this.getMonth()]});c("getDayName",function(a){return a?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});c("getMonthName",function(a){return a?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});c("getDayOfYear",function(){var a=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-a.getTime())/86400000)});c("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});c("setDayOfYear",function(a){this.setMonth(0);this.setDate(a);return this});c("addYears",function(a){this.setFullYear(this.getFullYear()+a);return this});c("addMonths",function(a){var b=this.getDate();this.setMonth(this.getMonth()+a);if(b>this.getDate()){this.addDays(-this.getDate())}return this});c("addDays",function(a){this.setTime(this.getTime()+(a*86400000));return this});c("addHours",function(a){this.setHours(this.getHours()+a);return this});c("addMinutes",function(a){this.setMinutes(this.getMinutes()+a);return this});c("addSeconds",function(a){this.setSeconds(this.getSeconds()+a);return this});c("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});c("asString",function(a){var b=a||Date.format;if(b.split("mm").length>1){b=b.split("mmmm").join(this.getMonthName(false)).split("mmm").join(this.getMonthName(true)).split("mm").join(d(this.getMonth()+1))}else{b=b.split("m").join(this.getMonth()+1)}b=b.split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("dd").join(d(this.getDate())).split("d").join(this.getDate());return b});Date.fromString=function(A){var r=Date.format;var b=new Date("01/01/1970");if(A==""){return b}A=A.toLowerCase();var s="";var y=[];var z=/(dd?d?|mm?m?|yy?yy?)+([^(m|d|y)])?/g;var v;while((v=z.exec(r))!=null){switch(v[1]){case"d":case"dd":case"m":case"mm":case"yy":case"yyyy":s+="(\\d+\\d?\\d?\\d?)+";y.push(v[1].substr(0,1));break;case"mmm":s+="([a-z]{3})";y.push("M");break}if(v[2]){s+=v[2]}}var u=new RegExp(s);var a=A.match(u);for(var w=0;w<y.length;w++){var f=a[w+1];switch(y[w]){case"d":b.setDate(f);break;case"m":b.setMonth(Number(f)-1);break;case"M":for(var x=0;x<Date.abbrMonthNames.length;x++){if(Date.abbrMonthNames[x].toLowerCase()==f){break}}b.setMonth(x);break;case"y":b.setYear(f);break}}return b};var d=function(b){var a="0"+b;return a.substring(a.length-2)}})();
/*!
 * eventsCalendar calendar widget
 * based on jQuery datePicker by Kelvin Luck (http://www.kelvinluck.com/)
 * @author Peter Edwards <bjorsq@gmail.com>
 * @version 1.2
 * @package EventPostType_Plugin
 */
jQuery(function(f){if(f("#eventsCalendar").length){var p={};var k="ec-hover";var m=a();var l=m.getMonth();var g=m.getFullYear();var b=f("#eventsCalendar");b.empty();b.append(f('<div id="ec-info"></div>'),f('<div class="ec-container"></div>').append(f("<h4></h4>"),f('<div class="ec-nav-prev ec-nav"></div>').append(f('<a class="ec-nav-prev-year" href="#" title="Previous Year">&lt;&lt;</a>').bind("click",function(){return c(this,0,-1)}),f('<a class="ec-nav-prev-month" href="#" title="Previous Month">&lt;</a>').bind("click",function(){return c(this,-1,0)})),f('<div class="ec-nav-next ec-nav"></div>').append(f('<a class="ec-nav-next-year" href="#" title="Next Year">&gt;&gt;</a>').bind("click",function(){return c(this,0,1)}),f('<a class="ec-nav-next-month" href="#" title="Next Month">&gt;</a>').bind("click",function(){return c(this,1,0)})),f("<div></div>").attr("id","ec-calendar")));f(".ec-nav").show();h(l,g,function(){f("h4",b).html(Date.monthNames[l]+" "+g);e(l,g)})}function o(q){return document.createElement(q)}function a(){var r=new RegExp("([0-9]{4})/([0-9]{2})");var q=r.exec(window.location.href);if(q===null){return(new Date()).zeroTime()}else{return(new Date(q[1],(parseInt(q[2])-1),1)).zeroTime()}}function d(s,q,w,x){var y=p["for-"+w+"-"+x]||false;if(y){var v=[];for(i=0;i<y.length;i++){var r=q.getTime();var z=q.getTime()+86399999;if(y[i].start_jstimestamp>=r){if(y[i].start_jstimestamp<z){v.push(i)}}else{if(y[i].end_jstimestamp>r){v.push(i)}}}if(v.length){var t="";for(j=0;j<v.length;j++){t+="<h3>"+y[v[j]].title+"</h3><p>"+y[v[j]].dateStr+"</p>"}var u=eventsJSON.substr(0,eventsJSON.length-5)+"/"+q.getFullYear()+"/"+n((q.getMonth()+1))+"/"+n(q.getDate());s.addClass("event").tooltip({title:function(){return f(t)}}).click(function(){window.location.href=u})}}}function h(r,q,s){if(!p["for-"+r+"-"+q]){f.getJSON(eventsJSON+"/"+q+"/"+n((r+1)),function(t){p["for-"+r+"-"+q]=t;s()})}else{s()}}function n(q){var q=parseInt(q);if(q<10){return"0"+q}else{return""+q}}function e(J,B){var A=f(o("tr"));for(var F=Date.firstDayOfWeek;F<Date.firstDayOfWeek+7;F++){var u=F%7;var E=Date.dayNames[u];A.append(jQuery(o("th")).attr({scope:"col",abbr:E,title:E,"class":(u==0||u==6?"weekend":"weekday")}).html(E.substr(0,1)))}var q=f(o("table")).attr({cellspacing:2,"class":"eventsCalendar"}).append(f(o("thead")).append(A));var s=f(o("tbody"));var H=(new Date()).zeroTime();var y=new Date(B,J,1);var x=Date.firstDayOfWeek-y.getDay()+1;if(x>1){x-=7}var C=Math.ceil(((-1*x+1)+y.getDaysInMonth())/7);y.addDays(x-1);var I=function(){f(this).addClass(k)};var t=function(){f(this).removeClass(k)};var z=0;while(z++<C){var D=jQuery(o("tr"));for(var F=0;F<7;F++){var v=y.getMonth()==J;var G=f(o("td")).text(y.getDate()+"").attr("class",(v?"current-month ":"other-month ")+(y.isWeekend()?"weekend ":"weekday ")+(v&&y.getTime()==H.getTime()?"today ":"")).hover(I,t);d(G,y,J,B);D.append(G);y.addDays(1)}s.append(D)}q.append(s);f("#ec-calendar").empty().append(q)}function c(s,q,u){s.blur();var r;if((!q&&!u)||(isNaN(q)&&isNaN(u))){r=new Date().zeroTime();r.setDate(1)}else{if(isNaN(q)){r=new Date(g+u,l,1)}else{if(isNaN(u)){r=new Date(g,l+q,1)}else{r=new Date(g+u,l+q,1)}}}l=r.getMonth();g=r.getFullYear();h(l,g,function(){f("h4",b).html(Date.monthNames[l]+" "+g);e(l,g)});return false}if(f(".add-filter").length){f(".add-filter").on("click",function(r){var q=f(this).parent().next(".event-taxonomy-list");if(f(q).is(":visible")){f(this).removeClass("expanded");f(q).slideUp()}else{f(this).addClass("expanded");f(q).slideDown()}return false})}});