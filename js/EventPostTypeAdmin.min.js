/*!
 * Extension for JavaScript's Date object to simulate PHP's date function
 * @author Jacob Wright
 * @see <a href="http://jacwright.com/projects/javascript/date_format/">JavaScript Date.format</a>
 */
Date.prototype.format=function(e){var d="";var c=Date.replaceChars;if(e&&e.length){for(var b=0;b<e.length;b++){var a=e.charAt(b);if(b-1>=0&&e.charAt(b-1)=="\\"){d+=a}else{if(c[a]){d+=c[a].call(this)}else{if(a!="\\"){d+=a}}}}}return d};Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return(this.getDate()%10==1&&this.getDate()!=11?"st":(this.getDate()%10==2&&this.getDate()!=12?"nd":(this.getDate()%10==3&&this.getDate()!=13?"rd":"th")))},w:function(){return this.getDay()},z:function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/86400000)},W:function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((((this-a)/86400000)+a.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var a=new Date();return new Date(a.getFullYear(),a.getMonth(),0).getDate()},L:function(){var a=this.getFullYear();return(a%400==0||(a%100!=0&&a%4==0))},o:function(){var a=new Date(this.valueOf());a.setDate(a.getDate()-((this.getDay()+6)%7)+3);return a.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor((((this.getUTCHours()+1)%24)+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1000/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var a=this.getMilliseconds();return(a<10?"00":(a<100?"0":""))+a},e:function(){return"Not Yet Supported"},I:function(){return"Not Yet Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+(Math.abs(this.getTimezoneOffset()/60))+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+(Math.abs(this.getTimezoneOffset()/60))+":00"},T:function(){var b=this.getMonth();this.setMonth(0);var a=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(b);return a},Z:function(){return -this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1000}};
/*!
 * EventPostType admin area scripts
 * @uses Date.format (http://jacwright.com/projects/javascript/date_format/)
 * @uses jQuery (http://www.jquery.com)
 * @author Peter Edwards <bjorsq@gmail.com>
 * @version 1.2
 * @package EventPostType_Plugin
 */
jQuery(function(g){if(g("#thumbnail_size_select").val()!="custom"){g("#thumbnail_size_input").hide();g("#custom_thumbnail_desc").hide()}g("#thumbnail_size_select").change(function(){if(g(this).val()=="custom"){g("#thumbnail_size_input").show().focus();g("#custom_thumbnail_desc").show()}else{g("#thumbnail_size_input").hide();g("#custom_thumbnail_desc").hide();g("#ept_plugin_options_thumbnail_size").val(g("#thumbnail_size_select").val())}console.log(g("#ept_plugin_options_thumbnail_size").val())});g("#thumbnail_size_input").keyup(function(){g("#ept_plugin_options_thumbnail_size").val(g(this).val())});function b(){var e=new Date();var l=new Date();l.setHours(13);l.setMinutes(45);l.setSeconds(0);l.setDate(e.getDate()-1);var k=new Date();k.setHours(14);k.setMinutes(30);k.setSeconds(0);var j=g("#date_preview");j.empty();j.append("<p><strong>Date format preview</strong></p>");j.append('<p><span class="datelabel">All day event: </span><span class="datepreview">'+g("#date_label").val()+e.format(g("#date_fmt").val())+g("#allday").val()+"</span></p>");j.append('<p><span class="datelabel">Event on a single day: </span><span class="datepreview">'+g("#date_label").val()+e.format(g("#date_fmt").val())+g("#date_time_separator").val()+g("#time_label").val()+l.format(g("#time_fmt").val())+g("#time_separator").val()+k.format(g("#time_fmt").val())+"</span></p>");j.append('<p><span class="datelabel">Event spanning multiple days: </span><span class="datepreview">'+g("#date_label").val()+l.format(g("#date_fmt").val())+g("#date_separator").val()+k.format(g("#date_fmt").val())+"</span></p>")}g(".dateformat").keyup(function(){b()});b();g(".format-examples").change(function(){var e=g(this).val();if(e){var j=g(this).attr("id").substring(3);g("#"+j).val(e);b()}});g("#ept-help-tabs").tabs();g("select[name=m]").next().hide();g("select[name=m]").hide();if(g("#event_dates").length){var d=new AnyTime.Converter({format:anytime_settings.dateFormat});var c=new AnyTime.Converter({format:anytime_settings.timeFormat});g("input.datepicker").AnyTime_picker({format:anytime_settings.dateFormat});g("input.timepicker").AnyTime_picker({format:anytime_settings.timeFormat});g("input#event_dates_allday").click(function(){a()});g("#event_dates_duration").val("null");function a(){if(g("#event_dates_allday:checked").length){g("#event_dates_end_date").val("").attr("disabled",true);g("#event_dates_end_time").val("").attr("disabled",true);g("#event_dates_start_time").val("").attr("disabled",true);g("#event_dates_duration_minutes").val("null");g("#event_dates_duration_minutes").hide();g("#event_dates_start_time").hide();g("#event_dates_end").hide()}else{g("#event_dates_end_date").removeAttr("disabled");g("#event_dates_end_time").removeAttr("disabled");g("#event_dates_start_time").removeAttr("disabled");g("#event_dates_duration_minutes").show();g("#event_dates_start_time").show();g("#event_dates_end").show()}}g("#event_dates_start_date").change(function(j){if(!g("#event_dates_allday:checked").length&&g("#event_dates_end_date").val()==""){try{var k=d.parse(g("#event_dates_start_date").val()).getTime();fromDay=new Date(k);fromDay.setHours(2,0,0,0);g("#event_dates_end_date").AnyTime_noPicker().removeAttr("disabled").AnyTime_picker({earliest:fromDay,format:anytime_settings.dateFormat})}catch(j){}}});g("#event_dates_duration_minutes").change(function(k){var j=g("#event_dates_duration_minutes option:selected").val();if(j!=="null"){if(g("#event_dates_start_date").val()!==""&&g("#event_dates_start_time").val()!==""){try{var l=c.parse(g("#event_dates_start_time").val());l.setMinutes(l.getMinutes()+parseInt(j));g("#event_dates_end_time").val(c.format(l));g("#event_dates_end_date").val(g("#event_dates_start_date").val())}catch(k){}}}});if(g("#event_dates_start_time").val()!==""&&g("#event_dates_end_time").val()!==""){try{var i=c.parse(g("#event_dates_start_time").val());var f=c.parse(g("#event_dates_end_time").val());g("#event_dates_duration_minutes").val((f-i)/60000)}catch(h){}}a()}g("a.editinline").live("click",function(){var j=inlineEditPost.getId(this);var e=g("#event_is_sticky_text_"+j).attr("data-event_is_sticky");if(e=="1"){g(".event_is_sticky_cb").attr("checked","checked")}else{g(".event_is_sticky_cb").removeAttr("checked")}})});